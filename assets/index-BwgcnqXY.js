var Di=Object.defineProperty;var Ni=(t,e,n)=>e in t?Di(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>Ni(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function is(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const W={},ht=[],Pe=()=>{},Fi=()=>!1,bn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),os=t=>t.startsWith("onUpdate:"),ee=Object.assign,ls=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bi=Object.prototype.hasOwnProperty,z=(t,e)=>Bi.call(t,e),M=Array.isArray,Rt=t=>xn(t)==="[object Map]",zi=t=>xn(t)==="[object Set]",L=t=>typeof t=="function",Y=t=>typeof t=="string",bt=t=>typeof t=="symbol",J=t=>t!==null&&typeof t=="object",vr=t=>(J(t)||L(t))&&L(t.then)&&L(t.catch),Ui=Object.prototype.toString,xn=t=>Ui.call(t),ji=t=>xn(t).slice(8,-1),Vi=t=>xn(t)==="[object Object]",cs=t=>Y(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,It=is(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yn=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Wi=/-(\w)/g,qe=yn(t=>t.replace(Wi,(e,n)=>n?n.toUpperCase():"")),qi=/\B([A-Z])/g,lt=yn(t=>t.replace(qi,"-$1").toLowerCase()),Sr=yn(t=>t.charAt(0).toUpperCase()+t.slice(1)),An=yn(t=>t?`on${Sr(t)}`:""),We=(t,e)=>!Object.is(t,e),nn=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Tr=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Wn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Bs;const _n=()=>Bs||(Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function as(t){if(M(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Y(s)?Ji(s):as(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Y(t)||J(t))return t}const Ki=/;(?![^(]*\))/g,Gi=/:([^]+)/,Zi=/\/\*[^]*?\*\//g;function Ji(t){const e={};return t.replace(Zi,"").split(Ki).forEach(n=>{if(n){const s=n.split(Gi);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function pt(t){let e="";if(Y(t))e=t;else if(M(t))for(let n=0;n<t.length;n++){const s=pt(t[n]);s&&(e+=s+" ")}else if(J(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Yi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qi=is(Yi);function Er(t){return!!t||t===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ge;class Xi{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ge,!e&&ge&&(this.index=(ge.scopes||(ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ge;try{return ge=this,e()}finally{ge=n}}}on(){ge=this}off(){ge=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function eo(){return ge}let G;const Pn=new WeakSet;class Cr{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ge&&ge.active&&ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pn.has(this)&&(Pn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ir(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,zs(this),$r(this);const e=G,n=_e;G=this,_e=!0;try{return this.fn()}finally{Ar(this),G=e,_e=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hs(e);this.deps=this.depsTail=void 0,zs(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qn(this)&&this.run()}get dirty(){return qn(this)}}let Rr=0,$t,At;function Ir(t,e=!1){if(t.flags|=8,e){t.next=At,At=t;return}t.next=$t,$t=t}function us(){Rr++}function fs(){if(--Rr>0)return;if(At){let e=At;for(At=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;$t;){let e=$t;for($t=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function $r(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ar(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),hs(s),to(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function qn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Pr(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Pr(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ft))return;t.globalVersion=Ft;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!qn(t)){t.flags&=-3;return}const n=G,s=_e;G=t,_e=!0;try{$r(t);const r=t.fn(t._value);(e.version===0||We(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{G=n,_e=s,Ar(t),t.flags&=-3}}function hs(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)hs(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function to(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let _e=!0;const Or=[];function Ke(){Or.push(_e),_e=!1}function Ge(){const t=Or.pop();_e=t===void 0?!0:t}function zs(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=G;G=void 0;try{e()}finally{G=n}}}let Ft=0;class no{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ps{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!G||!_e||G===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==G)n=this.activeLink=new no(G,this),G.deps?(n.prevDep=G.depsTail,G.depsTail.nextDep=n,G.depsTail=n):G.deps=G.depsTail=n,Lr(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=G.depsTail,n.nextDep=void 0,G.depsTail.nextDep=n,G.depsTail=n,G.deps===n&&(G.deps=s)}return n}trigger(e){this.version++,Ft++,this.notify(e)}notify(e){us();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{fs()}}}function Lr(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Lr(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Kn=new WeakMap,tt=Symbol(""),Gn=Symbol(""),Bt=Symbol("");function Q(t,e,n){if(_e&&G){let s=Kn.get(t);s||Kn.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new ps),r.map=s,r.key=n),r.track()}}function Ne(t,e,n,s,r,i){const o=Kn.get(t);if(!o){Ft++;return}const l=c=>{c&&c.trigger()};if(us(),e==="clear")o.forEach(l);else{const c=M(t),u=c&&cs(n);if(c&&n==="length"){const a=Number(s);o.forEach((p,g)=>{(g==="length"||g===Bt||!bt(g)&&g>=a)&&l(p)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Bt)),e){case"add":c?u&&l(o.get("length")):(l(o.get(tt)),Rt(t)&&l(o.get(Gn)));break;case"delete":c||(l(o.get(tt)),Rt(t)&&l(o.get(Gn)));break;case"set":Rt(t)&&l(o.get(tt));break}}fs()}function at(t){const e=B(t);return e===t?e:(Q(e,"iterate",Bt),we(t)?e:e.map(re))}function ds(t){return Q(t=B(t),"iterate",Bt),t}const so={__proto__:null,[Symbol.iterator](){return On(this,Symbol.iterator,re)},concat(...t){return at(this).concat(...t.map(e=>M(e)?at(e):e))},entries(){return On(this,"entries",t=>(t[1]=re(t[1]),t))},every(t,e){return Le(this,"every",t,e,void 0,arguments)},filter(t,e){return Le(this,"filter",t,e,n=>n.map(re),arguments)},find(t,e){return Le(this,"find",t,e,re,arguments)},findIndex(t,e){return Le(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Le(this,"findLast",t,e,re,arguments)},findLastIndex(t,e){return Le(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Le(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ln(this,"includes",t)},indexOf(...t){return Ln(this,"indexOf",t)},join(t){return at(this).join(t)},lastIndexOf(...t){return Ln(this,"lastIndexOf",t)},map(t,e){return Le(this,"map",t,e,void 0,arguments)},pop(){return vt(this,"pop")},push(...t){return vt(this,"push",t)},reduce(t,...e){return Us(this,"reduce",t,e)},reduceRight(t,...e){return Us(this,"reduceRight",t,e)},shift(){return vt(this,"shift")},some(t,e){return Le(this,"some",t,e,void 0,arguments)},splice(...t){return vt(this,"splice",t)},toReversed(){return at(this).toReversed()},toSorted(t){return at(this).toSorted(t)},toSpliced(...t){return at(this).toSpliced(...t)},unshift(...t){return vt(this,"unshift",t)},values(){return On(this,"values",re)}};function On(t,e,n){const s=ds(t),r=s[e]();return s!==t&&!we(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const ro=Array.prototype;function Le(t,e,n,s,r,i){const o=ds(t),l=o!==t&&!we(t),c=o[e];if(c!==ro[e]){const p=c.apply(t,i);return l?re(p):p}let u=n;o!==t&&(l?u=function(p,g){return n.call(this,re(p),g,t)}:n.length>2&&(u=function(p,g){return n.call(this,p,g,t)}));const a=c.call(o,u,s);return l&&r?r(a):a}function Us(t,e,n,s){const r=ds(t);let i=n;return r!==t&&(we(t)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,t)}):i=function(o,l,c){return n.call(this,o,re(l),c,t)}),r[e](i,...s)}function Ln(t,e,n){const s=B(t);Q(s,"iterate",Bt);const r=s[e](...n);return(r===-1||r===!1)&&xs(n[0])?(n[0]=B(n[0]),s[e](...n)):r}function vt(t,e,n=[]){Ke(),us();const s=B(t)[e].apply(t,n);return fs(),Ge(),s}const io=is("__proto__,__v_isRef,__isVue"),Mr=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bt));function oo(t){bt(t)||(t=String(t));const e=B(this);return Q(e,"has",t),e.hasOwnProperty(t)}class Hr{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?bo:Br:i?Fr:Nr).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=M(e);if(!r){let c;if(o&&(c=so[n]))return c;if(n==="hasOwnProperty")return oo}const l=Reflect.get(e,n,X(e)?e:s);return(bt(n)?Mr.has(n):io(n))||(r||Q(e,"get",n),i)?l:X(l)?o&&cs(n)?l:l.value:J(l)?r?zr(l):ms(l):l}}class Dr extends Hr{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const c=rt(i);if(!we(s)&&!rt(s)&&(i=B(i),s=B(s)),!M(e)&&X(i)&&!X(s))return c?!1:(i.value=s,!0)}const o=M(e)&&cs(n)?Number(n)<e.length:z(e,n),l=Reflect.set(e,n,s,X(e)?e:r);return e===B(r)&&(o?We(s,i)&&Ne(e,"set",n,s):Ne(e,"add",n,s)),l}deleteProperty(e,n){const s=z(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Ne(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!bt(n)||!Mr.has(n))&&Q(e,"has",n),s}ownKeys(e){return Q(e,"iterate",M(e)?"length":tt),Reflect.ownKeys(e)}}class lo extends Hr{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const co=new Dr,ao=new lo,uo=new Dr(!0);const Zn=t=>t,Qt=t=>Reflect.getPrototypeOf(t);function fo(t,e,n){return function(...s){const r=this.__v_raw,i=B(r),o=Rt(i),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=r[t](...s),a=n?Zn:e?Jn:re;return!e&&Q(i,"iterate",c?Gn:tt),{next(){const{value:p,done:g}=u.next();return g?{value:p,done:g}:{value:l?[a(p[0]),a(p[1])]:a(p),done:g}},[Symbol.iterator](){return this}}}}function Xt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ho(t,e){const n={get(r){const i=this.__v_raw,o=B(i),l=B(r);t||(We(r,l)&&Q(o,"get",r),Q(o,"get",l));const{has:c}=Qt(o),u=e?Zn:t?Jn:re;if(c.call(o,r))return u(i.get(r));if(c.call(o,l))return u(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Q(B(r),"iterate",tt),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=B(i),l=B(r);return t||(We(r,l)&&Q(o,"has",r),Q(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,c=B(l),u=e?Zn:t?Jn:re;return!t&&Q(c,"iterate",tt),l.forEach((a,p)=>r.call(i,u(a),u(p),o))}};return ee(n,t?{add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear")}:{add(r){!e&&!we(r)&&!rt(r)&&(r=B(r));const i=B(this);return Qt(i).has.call(i,r)||(i.add(r),Ne(i,"add",r,r)),this},set(r,i){!e&&!we(i)&&!rt(i)&&(i=B(i));const o=B(this),{has:l,get:c}=Qt(o);let u=l.call(o,r);u||(r=B(r),u=l.call(o,r));const a=c.call(o,r);return o.set(r,i),u?We(i,a)&&Ne(o,"set",r,i):Ne(o,"add",r,i),this},delete(r){const i=B(this),{has:o,get:l}=Qt(i);let c=o.call(i,r);c||(r=B(r),c=o.call(i,r)),l&&l.call(i,r);const u=i.delete(r);return c&&Ne(i,"delete",r,void 0),u},clear(){const r=B(this),i=r.size!==0,o=r.clear();return i&&Ne(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=fo(r,t,e)}),n}function gs(t,e){const n=ho(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(z(n,r)&&r in s?n:s,r,i)}const po={get:gs(!1,!1)},go={get:gs(!1,!0)},mo={get:gs(!0,!1)};const Nr=new WeakMap,Fr=new WeakMap,Br=new WeakMap,bo=new WeakMap;function xo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yo(t){return t.__v_skip||!Object.isExtensible(t)?0:xo(ji(t))}function ms(t){return rt(t)?t:bs(t,!1,co,po,Nr)}function _o(t){return bs(t,!1,uo,go,Fr)}function zr(t){return bs(t,!0,ao,mo,Br)}function bs(t,e,n,s,r){if(!J(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=yo(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return r.set(t,l),l}function Pt(t){return rt(t)?Pt(t.__v_raw):!!(t&&t.__v_isReactive)}function rt(t){return!!(t&&t.__v_isReadonly)}function we(t){return!!(t&&t.__v_isShallow)}function xs(t){return t?!!t.__v_raw:!1}function B(t){const e=t&&t.__v_raw;return e?B(e):t}function wo(t){return!z(t,"__v_skip")&&Object.isExtensible(t)&&Tr(t,"__v_skip",!0),t}const re=t=>J(t)?ms(t):t,Jn=t=>J(t)?zr(t):t;function X(t){return t?t.__v_isRef===!0:!1}function se(t){return ko(t,!1)}function ko(t,e){return X(t)?t:new vo(t,e)}class vo{constructor(e,n){this.dep=new ps,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:B(e),this._value=n?e:re(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||we(e)||rt(e);e=s?e:B(e),We(e,n)&&(this._rawValue=e,this._value=s?e:re(e),this.dep.trigger())}}function sn(t){return X(t)?t.value:t}const So={get:(t,e,n)=>e==="__v_raw"?t:sn(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return X(r)&&!X(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Ur(t){return Pt(t)?t:new Proxy(t,So)}class To{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ps(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ft-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&G!==this)return Ir(this,!0),!0}get value(){const e=this.dep.track();return Pr(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Eo(t,e,n=!1){let s,r;return L(t)?s=t:(s=t.get,r=t.set),new To(s,r,n)}const en={},cn=new WeakMap;let et;function Co(t,e=!1,n=et){if(n){let s=cn.get(n);s||cn.set(n,s=[]),s.push(t)}}function Ro(t,e,n=W){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:c}=n,u=C=>r?C:we(C)||r===!1||r===0?Fe(C,1):Fe(C);let a,p,g,m,E=!1,S=!1;if(X(t)?(p=()=>t.value,E=we(t)):Pt(t)?(p=()=>u(t),E=!0):M(t)?(S=!0,E=t.some(C=>Pt(C)||we(C)),p=()=>t.map(C=>{if(X(C))return C.value;if(Pt(C))return u(C);if(L(C))return c?c(C,2):C()})):L(t)?e?p=c?()=>c(t,2):t:p=()=>{if(g){Ke();try{g()}finally{Ge()}}const C=et;et=a;try{return c?c(t,3,[m]):t(m)}finally{et=C}}:p=Pe,e&&r){const C=p,F=r===!0?1/0:r;p=()=>Fe(C(),F)}const $=eo(),O=()=>{a.stop(),$&&$.active&&ls($.effects,a)};if(i&&e){const C=e;e=(...F)=>{C(...F),O()}}let D=S?new Array(t.length).fill(en):en;const H=C=>{if(!(!(a.flags&1)||!a.dirty&&!C))if(e){const F=a.run();if(r||E||(S?F.some((ve,ce)=>We(ve,D[ce])):We(F,D))){g&&g();const ve=et;et=a;try{const ce=[F,D===en?void 0:S&&D[0]===en?[]:D,m];c?c(e,3,ce):e(...ce),D=F}finally{et=ve}}}else a.run()};return l&&l(H),a=new Cr(p),a.scheduler=o?()=>o(H,!1):H,m=C=>Co(C,!1,a),g=a.onStop=()=>{const C=cn.get(a);if(C){if(c)c(C,4);else for(const F of C)F();cn.delete(a)}},e?s?H(!0):D=a.run():o?o(H.bind(null,!0),!0):a.run(),O.pause=a.pause.bind(a),O.resume=a.resume.bind(a),O.stop=O,O}function Fe(t,e=1/0,n){if(e<=0||!J(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,X(t))Fe(t.value,e,n);else if(M(t))for(let s=0;s<t.length;s++)Fe(t[s],e,n);else if(zi(t)||Rt(t))t.forEach(s=>{Fe(s,e,n)});else if(Vi(t)){for(const s in t)Fe(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Fe(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vt(t,e,n,s){try{return s?t(...s):t()}catch(r){wn(r,e,n)}}function Oe(t,e,n,s){if(L(t)){const r=Vt(t,e,n,s);return r&&vr(r)&&r.catch(i=>{wn(i,e,n)}),r}if(M(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Oe(t[i],e,n,s));return r}}function wn(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||W;if(e){let l=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const a=l.ec;if(a){for(let p=0;p<a.length;p++)if(a[p](t,c,u)===!1)return}l=l.parent}if(i){Ke(),Vt(i,null,10,[t,c,u]),Ge();return}}Io(t,n,r,s,o)}function Io(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const ie=[];let $e=-1;const dt=[];let Ue=null,ut=0;const jr=Promise.resolve();let an=null;function $o(t){const e=an||jr;return t?e.then(this?t.bind(this):t):e}function Ao(t){let e=$e+1,n=ie.length;for(;e<n;){const s=e+n>>>1,r=ie[s],i=zt(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function ys(t){if(!(t.flags&1)){const e=zt(t),n=ie[ie.length-1];!n||!(t.flags&2)&&e>=zt(n)?ie.push(t):ie.splice(Ao(e),0,t),t.flags|=1,Vr()}}function Vr(){an||(an=jr.then(qr))}function Po(t){M(t)?dt.push(...t):Ue&&t.id===-1?Ue.splice(ut+1,0,t):t.flags&1||(dt.push(t),t.flags|=1),Vr()}function js(t,e,n=$e+1){for(;n<ie.length;n++){const s=ie[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;ie.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Wr(t){if(dt.length){const e=[...new Set(dt)].sort((n,s)=>zt(n)-zt(s));if(dt.length=0,Ue){Ue.push(...e);return}for(Ue=e,ut=0;ut<Ue.length;ut++){const n=Ue[ut];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ue=null,ut=0}}const zt=t=>t.id==null?t.flags&2?-1:1/0:t.id;function qr(t){try{for($e=0;$e<ie.length;$e++){const e=ie[$e];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Vt(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;$e<ie.length;$e++){const e=ie[$e];e&&(e.flags&=-2)}$e=-1,ie.length=0,Wr(),an=null,(ie.length||dt.length)&&qr()}}let be=null,Kr=null;function un(t){const e=be;return be=t,Kr=t&&t.type.__scopeId||null,e}function Oo(t,e=be,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Qs(-1);const i=un(e);let o;try{o=t(...r)}finally{un(i),s._d&&Qs(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Mn(t,e){if(be===null)return t;const n=Tn(be),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,l,c=W]=e[r];i&&(L(i)&&(i={mounted:i,updated:i}),i.deep&&Fe(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Qe(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let c=l.dir[s];c&&(Ke(),Oe(c,n,8,[t.el,l,t,e]),Ge())}}const Lo=Symbol("_vte"),Mo=t=>t.__isTeleport;function _s(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_s(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function ws(t,e){return L(t)?ee({name:t.name},e,{setup:t}):t}function Gr(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function fn(t,e,n,s,r=!1){if(M(t)){t.forEach((E,S)=>fn(E,e&&(M(e)?e[S]:e),n,s,r));return}if(Ot(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&fn(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Tn(s.component):s.el,o=r?null:i,{i:l,r:c}=t,u=e&&e.r,a=l.refs===W?l.refs={}:l.refs,p=l.setupState,g=B(p),m=p===W?()=>!1:E=>z(g,E);if(u!=null&&u!==c&&(Y(u)?(a[u]=null,m(u)&&(p[u]=null)):X(u)&&(u.value=null)),L(c))Vt(c,l,12,[o,a]);else{const E=Y(c),S=X(c);if(E||S){const $=()=>{if(t.f){const O=E?m(c)?p[c]:a[c]:c.value;r?M(O)&&ls(O,i):M(O)?O.includes(i)||O.push(i):E?(a[c]=[i],m(c)&&(p[c]=a[c])):(c.value=[i],t.k&&(a[t.k]=c.value))}else E?(a[c]=o,m(c)&&(p[c]=o)):S&&(c.value=o,t.k&&(a[t.k]=o))};o?($.id=-1,de($,n)):$()}}}_n().requestIdleCallback;_n().cancelIdleCallback;const Ot=t=>!!t.type.__asyncLoader,Zr=t=>t.type.__isKeepAlive;function Ho(t,e){Jr(t,"a",e)}function Do(t,e){Jr(t,"da",e)}function Jr(t,e,n=oe){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(kn(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Zr(r.parent.vnode)&&No(s,e,n,r),r=r.parent}}function No(t,e,n,s){const r=kn(e,t,s,!0);ks(()=>{ls(s[e],r)},n)}function kn(t,e,n=oe,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ke();const l=Wt(n),c=Oe(e,n,t,o);return l(),Ge(),c});return s?r.unshift(i):r.push(i),i}}const ze=t=>(e,n=oe)=>{(!jt||t==="sp")&&kn(t,(...s)=>e(...s),n)},Fo=ze("bm"),Yr=ze("m"),Bo=ze("bu"),zo=ze("u"),Uo=ze("bum"),ks=ze("um"),jo=ze("sp"),Vo=ze("rtg"),Wo=ze("rtc");function qo(t,e=oe){kn("ec",t,e)}const Ko=Symbol.for("v-ndc"),Yn=t=>t?yi(t)?Tn(t):Yn(t.parent):null,Lt=ee(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yn(t.parent),$root:t=>Yn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Xr(t),$forceUpdate:t=>t.f||(t.f=()=>{ys(t.update)}),$nextTick:t=>t.n||(t.n=$o.bind(t.proxy)),$watch:t=>gl.bind(t)}),Hn=(t,e)=>t!==W&&!t.__isScriptSetup&&z(t,e),Go={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:c}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Hn(s,e))return o[e]=1,s[e];if(r!==W&&z(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&z(u,e))return o[e]=3,i[e];if(n!==W&&z(n,e))return o[e]=4,n[e];Qn&&(o[e]=0)}}const a=Lt[e];let p,g;if(a)return e==="$attrs"&&Q(t.attrs,"get",""),a(t);if((p=l.__cssModules)&&(p=p[e]))return p;if(n!==W&&z(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,z(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Hn(r,e)?(r[e]=n,!0):s!==W&&z(s,e)?(s[e]=n,!0):z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let l;return!!n[o]||t!==W&&z(t,o)||Hn(e,o)||(l=i[0])&&z(l,o)||z(s,o)||z(Lt,o)||z(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:z(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Vs(t){return M(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Qn=!0;function Zo(t){const e=Xr(t),n=t.proxy,s=t.ctx;Qn=!1,e.beforeCreate&&Ws(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:l,provide:c,inject:u,created:a,beforeMount:p,mounted:g,beforeUpdate:m,updated:E,activated:S,deactivated:$,beforeDestroy:O,beforeUnmount:D,destroyed:H,unmounted:C,render:F,renderTracked:ve,renderTriggered:ce,errorCaptured:ae,serverPrefetch:Kt,expose:Ze,inheritAttrs:yt,components:Gt,directives:Zt,filters:In}=e;if(u&&Jo(u,s,null),o)for(const Z in o){const q=o[Z];L(q)&&(s[Z]=q.bind(n))}if(r){const Z=r.call(n,n);J(Z)&&(t.data=ms(Z))}if(Qn=!0,i)for(const Z in i){const q=i[Z],Je=L(q)?q.bind(n,n):L(q.get)?q.get.bind(n,n):Pe,Jt=!L(q)&&L(q.set)?q.set.bind(n):Pe,Ye=Ht({get:Je,set:Jt});Object.defineProperty(s,Z,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Se=>Ye.value=Se})}if(l)for(const Z in l)Qr(l[Z],s,n,Z);if(c){const Z=L(c)?c.call(n):c;Reflect.ownKeys(Z).forEach(q=>{nl(q,Z[q])})}a&&Ws(a,t,"c");function te(Z,q){M(q)?q.forEach(Je=>Z(Je.bind(n))):q&&Z(q.bind(n))}if(te(Fo,p),te(Yr,g),te(Bo,m),te(zo,E),te(Ho,S),te(Do,$),te(qo,ae),te(Wo,ve),te(Vo,ce),te(Uo,D),te(ks,C),te(jo,Kt),M(Ze))if(Ze.length){const Z=t.exposed||(t.exposed={});Ze.forEach(q=>{Object.defineProperty(Z,q,{get:()=>n[q],set:Je=>n[q]=Je})})}else t.exposed||(t.exposed={});F&&t.render===Pe&&(t.render=F),yt!=null&&(t.inheritAttrs=yt),Gt&&(t.components=Gt),Zt&&(t.directives=Zt),Kt&&Gr(t)}function Jo(t,e,n=Pe){M(t)&&(t=Xn(t));for(const s in t){const r=t[s];let i;J(r)?"default"in r?i=rn(r.from||s,r.default,!0):i=rn(r.from||s):i=rn(r),X(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Ws(t,e,n){Oe(M(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Qr(t,e,n,s){let r=s.includes(".")?pi(n,s):()=>n[s];if(Y(t)){const i=e[t];L(i)&&nt(r,i)}else if(L(t))nt(r,t.bind(n));else if(J(t))if(M(t))t.forEach(i=>Qr(i,e,n,s));else{const i=L(t.handler)?t.handler.bind(n):e[t.handler];L(i)&&nt(r,i,t)}}function Xr(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let c;return l?c=l:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(u=>hn(c,u,o,!0)),hn(c,e,o)),J(e)&&i.set(e,c),c}function hn(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&hn(t,i,n,!0),r&&r.forEach(o=>hn(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=Yo[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Yo={data:qs,props:Ks,emits:Ks,methods:Ct,computed:Ct,beforeCreate:ne,created:ne,beforeMount:ne,mounted:ne,beforeUpdate:ne,updated:ne,beforeDestroy:ne,beforeUnmount:ne,destroyed:ne,unmounted:ne,activated:ne,deactivated:ne,errorCaptured:ne,serverPrefetch:ne,components:Ct,directives:Ct,watch:Xo,provide:qs,inject:Qo};function qs(t,e){return e?t?function(){return ee(L(t)?t.call(this,this):t,L(e)?e.call(this,this):e)}:e:t}function Qo(t,e){return Ct(Xn(t),Xn(e))}function Xn(t){if(M(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ne(t,e){return t?[...new Set([].concat(t,e))]:e}function Ct(t,e){return t?ee(Object.create(null),t,e):e}function Ks(t,e){return t?M(t)&&M(e)?[...new Set([...t,...e])]:ee(Object.create(null),Vs(t),Vs(e??{})):e}function Xo(t,e){if(!t)return e;if(!e)return t;const n=ee(Object.create(null),t);for(const s in e)n[s]=ne(t[s],e[s]);return n}function ei(){return{app:null,config:{isNativeTag:Fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let el=0;function tl(t,e){return function(s,r=null){L(s)||(s=ee({},s)),r!=null&&!J(r)&&(r=null);const i=ei(),o=new WeakSet,l=[];let c=!1;const u=i.app={_uid:el++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Dl,get config(){return i.config},set config(a){},use(a,...p){return o.has(a)||(a&&L(a.install)?(o.add(a),a.install(u,...p)):L(a)&&(o.add(a),a(u,...p))),u},mixin(a){return i.mixins.includes(a)||i.mixins.push(a),u},component(a,p){return p?(i.components[a]=p,u):i.components[a]},directive(a,p){return p?(i.directives[a]=p,u):i.directives[a]},mount(a,p,g){if(!c){const m=u._ceVNode||ke(s,r);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(m,a,g),c=!0,u._container=a,a.__vue_app__=u,Tn(m.component)}},onUnmount(a){l.push(a)},unmount(){c&&(Oe(l,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(a,p){return i.provides[a]=p,u},runWithContext(a){const p=gt;gt=u;try{return a()}finally{gt=p}}};return u}}let gt=null;function nl(t,e){if(oe){let n=oe.provides;const s=oe.parent&&oe.parent.provides;s===n&&(n=oe.provides=Object.create(s)),n[t]=e}}function rn(t,e,n=!1){const s=oe||be;if(s||gt){const r=gt?gt._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&L(e)?e.call(s&&s.proxy):e}}const ti={},ni=()=>Object.create(ti),si=t=>Object.getPrototypeOf(t)===ti;function sl(t,e,n,s=!1){const r={},i=ni();t.propsDefaults=Object.create(null),ri(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:_o(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function rl(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,l=B(r),[c]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const a=t.vnode.dynamicProps;for(let p=0;p<a.length;p++){let g=a[p];if(vn(t.emitsOptions,g))continue;const m=e[g];if(c)if(z(i,g))m!==i[g]&&(i[g]=m,u=!0);else{const E=qe(g);r[E]=es(c,l,E,m,t,!1)}else m!==i[g]&&(i[g]=m,u=!0)}}}else{ri(t,e,r,i)&&(u=!0);let a;for(const p in l)(!e||!z(e,p)&&((a=lt(p))===p||!z(e,a)))&&(c?n&&(n[p]!==void 0||n[a]!==void 0)&&(r[p]=es(c,l,p,void 0,t,!0)):delete r[p]);if(i!==l)for(const p in i)(!e||!z(e,p))&&(delete i[p],u=!0)}u&&Ne(t.attrs,"set","")}function ri(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(It(c))continue;const u=e[c];let a;r&&z(r,a=qe(c))?!i||!i.includes(a)?n[a]=u:(l||(l={}))[a]=u:vn(t.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,o=!0)}if(i){const c=B(n),u=l||W;for(let a=0;a<i.length;a++){const p=i[a];n[p]=es(r,c,p,u[p],t,!z(u,p))}}return o}function es(t,e,n,s,r,i){const o=t[n];if(o!=null){const l=z(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&L(c)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const a=Wt(r);s=u[n]=c.call(null,e),a()}}else s=c;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===lt(n))&&(s=!0))}return s}const il=new WeakMap;function ii(t,e,n=!1){const s=n?il:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},l=[];let c=!1;if(!L(t)){const a=p=>{c=!0;const[g,m]=ii(p,e,!0);ee(o,g),m&&l.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}if(!i&&!c)return J(t)&&s.set(t,ht),ht;if(M(i))for(let a=0;a<i.length;a++){const p=qe(i[a]);Gs(p)&&(o[p]=W)}else if(i)for(const a in i){const p=qe(a);if(Gs(p)){const g=i[a],m=o[p]=M(g)||L(g)?{type:g}:ee({},g),E=m.type;let S=!1,$=!0;if(M(E))for(let O=0;O<E.length;++O){const D=E[O],H=L(D)&&D.name;if(H==="Boolean"){S=!0;break}else H==="String"&&($=!1)}else S=L(E)&&E.name==="Boolean";m[0]=S,m[1]=$,(S||z(m,"default"))&&l.push(p)}}const u=[o,l];return J(t)&&s.set(t,u),u}function Gs(t){return t[0]!=="$"&&!It(t)}const oi=t=>t[0]==="_"||t==="$stable",vs=t=>M(t)?t.map(Ae):[Ae(t)],ol=(t,e,n)=>{if(e._n)return e;const s=Oo((...r)=>vs(e(...r)),n);return s._c=!1,s},li=(t,e,n)=>{const s=t._ctx;for(const r in t){if(oi(r))continue;const i=t[r];if(L(i))e[r]=ol(r,i,s);else if(i!=null){const o=vs(i);e[r]=()=>o}}},ci=(t,e)=>{const n=vs(e);t.slots.default=()=>n},ai=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},ll=(t,e,n)=>{const s=t.slots=ni();if(t.vnode.shapeFlag&32){const r=e._;r?(ai(s,e,n),n&&Tr(s,"_",r,!0)):li(e,s)}else e&&ci(t,e)},cl=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=W;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:ai(r,e,n):(i=!e.$stable,li(e,r)),o=e}else e&&(ci(t,e),o={default:1});if(i)for(const l in r)!oi(l)&&o[l]==null&&delete r[l]},de=kl;function al(t){return ul(t)}function ul(t,e){const n=_n();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:c,setText:u,setElementText:a,parentNode:p,nextSibling:g,setScopeId:m=Pe,insertStaticContent:E}=t,S=(f,h,d,y=null,b=null,x=null,v=void 0,k=null,w=!!h.dynamicChildren)=>{if(f===h)return;f&&!St(f,h)&&(y=Yt(f),Se(f,b,x,!0),f=null),h.patchFlag===-2&&(w=!1,h.dynamicChildren=null);const{type:_,ref:I,shapeFlag:T}=h;switch(_){case Sn:$(f,h,d,y);break;case it:O(f,h,d,y);break;case Nn:f==null&&D(h,d,y,v);break;case De:Gt(f,h,d,y,b,x,v,k,w);break;default:T&1?F(f,h,d,y,b,x,v,k,w):T&6?Zt(f,h,d,y,b,x,v,k,w):(T&64||T&128)&&_.process(f,h,d,y,b,x,v,k,w,wt)}I!=null&&b&&fn(I,f&&f.ref,x,h||f,!h)},$=(f,h,d,y)=>{if(f==null)s(h.el=l(h.children),d,y);else{const b=h.el=f.el;h.children!==f.children&&u(b,h.children)}},O=(f,h,d,y)=>{f==null?s(h.el=c(h.children||""),d,y):h.el=f.el},D=(f,h,d,y)=>{[f.el,f.anchor]=E(f.children,h,d,y,f.el,f.anchor)},H=({el:f,anchor:h},d,y)=>{let b;for(;f&&f!==h;)b=g(f),s(f,d,y),f=b;s(h,d,y)},C=({el:f,anchor:h})=>{let d;for(;f&&f!==h;)d=g(f),r(f),f=d;r(h)},F=(f,h,d,y,b,x,v,k,w)=>{h.type==="svg"?v="svg":h.type==="math"&&(v="mathml"),f==null?ve(h,d,y,b,x,v,k,w):Kt(f,h,b,x,v,k,w)},ve=(f,h,d,y,b,x,v,k)=>{let w,_;const{props:I,shapeFlag:T,transition:R,dirs:A}=f;if(w=f.el=o(f.type,x,I&&I.is,I),T&8?a(w,f.children):T&16&&ae(f.children,w,null,y,b,Dn(f,x),v,k),A&&Qe(f,null,y,"created"),ce(w,f,f.scopeId,v,y),I){for(const K in I)K!=="value"&&!It(K)&&i(w,K,null,I[K],x,y);"value"in I&&i(w,"value",null,I.value,x),(_=I.onVnodeBeforeMount)&&Re(_,y,f)}A&&Qe(f,null,y,"beforeMount");const N=fl(b,R);N&&R.beforeEnter(w),s(w,h,d),((_=I&&I.onVnodeMounted)||N||A)&&de(()=>{_&&Re(_,y,f),N&&R.enter(w),A&&Qe(f,null,y,"mounted")},b)},ce=(f,h,d,y,b)=>{if(d&&m(f,d),y)for(let x=0;x<y.length;x++)m(f,y[x]);if(b){let x=b.subTree;if(h===x||gi(x.type)&&(x.ssContent===h||x.ssFallback===h)){const v=b.vnode;ce(f,v,v.scopeId,v.slotScopeIds,b.parent)}}},ae=(f,h,d,y,b,x,v,k,w=0)=>{for(let _=w;_<f.length;_++){const I=f[_]=k?je(f[_]):Ae(f[_]);S(null,I,h,d,y,b,x,v,k)}},Kt=(f,h,d,y,b,x,v)=>{const k=h.el=f.el;let{patchFlag:w,dynamicChildren:_,dirs:I}=h;w|=f.patchFlag&16;const T=f.props||W,R=h.props||W;let A;if(d&&Xe(d,!1),(A=R.onVnodeBeforeUpdate)&&Re(A,d,h,f),I&&Qe(h,f,d,"beforeUpdate"),d&&Xe(d,!0),(T.innerHTML&&R.innerHTML==null||T.textContent&&R.textContent==null)&&a(k,""),_?Ze(f.dynamicChildren,_,k,d,y,Dn(h,b),x):v||q(f,h,k,null,d,y,Dn(h,b),x,!1),w>0){if(w&16)yt(k,T,R,d,b);else if(w&2&&T.class!==R.class&&i(k,"class",null,R.class,b),w&4&&i(k,"style",T.style,R.style,b),w&8){const N=h.dynamicProps;for(let K=0;K<N.length;K++){const j=N[K],he=T[j],ue=R[j];(ue!==he||j==="value")&&i(k,j,he,ue,b,d)}}w&1&&f.children!==h.children&&a(k,h.children)}else!v&&_==null&&yt(k,T,R,d,b);((A=R.onVnodeUpdated)||I)&&de(()=>{A&&Re(A,d,h,f),I&&Qe(h,f,d,"updated")},y)},Ze=(f,h,d,y,b,x,v)=>{for(let k=0;k<h.length;k++){const w=f[k],_=h[k],I=w.el&&(w.type===De||!St(w,_)||w.shapeFlag&70)?p(w.el):d;S(w,_,I,null,y,b,x,v,!0)}},yt=(f,h,d,y,b)=>{if(h!==d){if(h!==W)for(const x in h)!It(x)&&!(x in d)&&i(f,x,h[x],null,b,y);for(const x in d){if(It(x))continue;const v=d[x],k=h[x];v!==k&&x!=="value"&&i(f,x,k,v,b,y)}"value"in d&&i(f,"value",h.value,d.value,b)}},Gt=(f,h,d,y,b,x,v,k,w)=>{const _=h.el=f?f.el:l(""),I=h.anchor=f?f.anchor:l("");let{patchFlag:T,dynamicChildren:R,slotScopeIds:A}=h;A&&(k=k?k.concat(A):A),f==null?(s(_,d,y),s(I,d,y),ae(h.children||[],d,I,b,x,v,k,w)):T>0&&T&64&&R&&f.dynamicChildren?(Ze(f.dynamicChildren,R,d,b,x,v,k),(h.key!=null||b&&h===b.subTree)&&ui(f,h,!0)):q(f,h,d,I,b,x,v,k,w)},Zt=(f,h,d,y,b,x,v,k,w)=>{h.slotScopeIds=k,f==null?h.shapeFlag&512?b.ctx.activate(h,d,y,v,w):In(h,d,y,b,x,v,w):Ms(f,h,w)},In=(f,h,d,y,b,x,v)=>{const k=f.component=Al(f,y,b);if(Zr(f)&&(k.ctx.renderer=wt),Pl(k,!1,v),k.asyncDep){if(b&&b.registerDep(k,te,v),!f.el){const w=k.subTree=ke(it);O(null,w,h,d)}}else te(k,f,h,d,b,x,v)},Ms=(f,h,d)=>{const y=h.component=f.component;if(_l(f,h,d))if(y.asyncDep&&!y.asyncResolved){Z(y,h,d);return}else y.next=h,y.update();else h.el=f.el,y.vnode=h},te=(f,h,d,y,b,x,v)=>{const k=()=>{if(f.isMounted){let{next:T,bu:R,u:A,parent:N,vnode:K}=f;{const Ee=fi(f);if(Ee){T&&(T.el=K.el,Z(f,T,v)),Ee.asyncDep.then(()=>{f.isUnmounted||k()});return}}let j=T,he;Xe(f,!1),T?(T.el=K.el,Z(f,T,v)):T=K,R&&nn(R),(he=T.props&&T.props.onVnodeBeforeUpdate)&&Re(he,N,T,K),Xe(f,!0);const ue=Js(f),Te=f.subTree;f.subTree=ue,S(Te,ue,p(Te.el),Yt(Te),f,b,x),T.el=ue.el,j===null&&wl(f,ue.el),A&&de(A,b),(he=T.props&&T.props.onVnodeUpdated)&&de(()=>Re(he,N,T,K),b)}else{let T;const{el:R,props:A}=h,{bm:N,m:K,parent:j,root:he,type:ue}=f,Te=Ot(h);Xe(f,!1),N&&nn(N),!Te&&(T=A&&A.onVnodeBeforeMount)&&Re(T,j,h),Xe(f,!0);{he.ce&&he.ce._injectChildStyle(ue);const Ee=f.subTree=Js(f);S(null,Ee,d,y,f,b,x),h.el=Ee.el}if(K&&de(K,b),!Te&&(T=A&&A.onVnodeMounted)){const Ee=h;de(()=>Re(T,j,Ee),b)}(h.shapeFlag&256||j&&Ot(j.vnode)&&j.vnode.shapeFlag&256)&&f.a&&de(f.a,b),f.isMounted=!0,h=d=y=null}};f.scope.on();const w=f.effect=new Cr(k);f.scope.off();const _=f.update=w.run.bind(w),I=f.job=w.runIfDirty.bind(w);I.i=f,I.id=f.uid,w.scheduler=()=>ys(I),Xe(f,!0),_()},Z=(f,h,d)=>{h.component=f;const y=f.vnode.props;f.vnode=h,f.next=null,rl(f,h.props,y,d),cl(f,h.children,d),Ke(),js(f),Ge()},q=(f,h,d,y,b,x,v,k,w=!1)=>{const _=f&&f.children,I=f?f.shapeFlag:0,T=h.children,{patchFlag:R,shapeFlag:A}=h;if(R>0){if(R&128){Jt(_,T,d,y,b,x,v,k,w);return}else if(R&256){Je(_,T,d,y,b,x,v,k,w);return}}A&8?(I&16&&_t(_,b,x),T!==_&&a(d,T)):I&16?A&16?Jt(_,T,d,y,b,x,v,k,w):_t(_,b,x,!0):(I&8&&a(d,""),A&16&&ae(T,d,y,b,x,v,k,w))},Je=(f,h,d,y,b,x,v,k,w)=>{f=f||ht,h=h||ht;const _=f.length,I=h.length,T=Math.min(_,I);let R;for(R=0;R<T;R++){const A=h[R]=w?je(h[R]):Ae(h[R]);S(f[R],A,d,null,b,x,v,k,w)}_>I?_t(f,b,x,!0,!1,T):ae(h,d,y,b,x,v,k,w,T)},Jt=(f,h,d,y,b,x,v,k,w)=>{let _=0;const I=h.length;let T=f.length-1,R=I-1;for(;_<=T&&_<=R;){const A=f[_],N=h[_]=w?je(h[_]):Ae(h[_]);if(St(A,N))S(A,N,d,null,b,x,v,k,w);else break;_++}for(;_<=T&&_<=R;){const A=f[T],N=h[R]=w?je(h[R]):Ae(h[R]);if(St(A,N))S(A,N,d,null,b,x,v,k,w);else break;T--,R--}if(_>T){if(_<=R){const A=R+1,N=A<I?h[A].el:y;for(;_<=R;)S(null,h[_]=w?je(h[_]):Ae(h[_]),d,N,b,x,v,k,w),_++}}else if(_>R)for(;_<=T;)Se(f[_],b,x,!0),_++;else{const A=_,N=_,K=new Map;for(_=N;_<=R;_++){const pe=h[_]=w?je(h[_]):Ae(h[_]);pe.key!=null&&K.set(pe.key,_)}let j,he=0;const ue=R-N+1;let Te=!1,Ee=0;const kt=new Array(ue);for(_=0;_<ue;_++)kt[_]=0;for(_=A;_<=T;_++){const pe=f[_];if(he>=ue){Se(pe,b,x,!0);continue}let Ce;if(pe.key!=null)Ce=K.get(pe.key);else for(j=N;j<=R;j++)if(kt[j-N]===0&&St(pe,h[j])){Ce=j;break}Ce===void 0?Se(pe,b,x,!0):(kt[Ce-N]=_+1,Ce>=Ee?Ee=Ce:Te=!0,S(pe,h[Ce],d,null,b,x,v,k,w),he++)}const Ns=Te?hl(kt):ht;for(j=Ns.length-1,_=ue-1;_>=0;_--){const pe=N+_,Ce=h[pe],Fs=pe+1<I?h[pe+1].el:y;kt[_]===0?S(null,Ce,d,Fs,b,x,v,k,w):Te&&(j<0||_!==Ns[j]?Ye(Ce,d,Fs,2):j--)}}},Ye=(f,h,d,y,b=null)=>{const{el:x,type:v,transition:k,children:w,shapeFlag:_}=f;if(_&6){Ye(f.component.subTree,h,d,y);return}if(_&128){f.suspense.move(h,d,y);return}if(_&64){v.move(f,h,d,wt);return}if(v===De){s(x,h,d);for(let T=0;T<w.length;T++)Ye(w[T],h,d,y);s(f.anchor,h,d);return}if(v===Nn){H(f,h,d);return}if(y!==2&&_&1&&k)if(y===0)k.beforeEnter(x),s(x,h,d),de(()=>k.enter(x),b);else{const{leave:T,delayLeave:R,afterLeave:A}=k,N=()=>s(x,h,d),K=()=>{T(x,()=>{N(),A&&A()})};R?R(x,N,K):K()}else s(x,h,d)},Se=(f,h,d,y=!1,b=!1)=>{const{type:x,props:v,ref:k,children:w,dynamicChildren:_,shapeFlag:I,patchFlag:T,dirs:R,cacheIndex:A}=f;if(T===-2&&(b=!1),k!=null&&fn(k,null,d,f,!0),A!=null&&(h.renderCache[A]=void 0),I&256){h.ctx.deactivate(f);return}const N=I&1&&R,K=!Ot(f);let j;if(K&&(j=v&&v.onVnodeBeforeUnmount)&&Re(j,h,f),I&6)Hi(f.component,d,y);else{if(I&128){f.suspense.unmount(d,y);return}N&&Qe(f,null,h,"beforeUnmount"),I&64?f.type.remove(f,h,d,wt,y):_&&!_.hasOnce&&(x!==De||T>0&&T&64)?_t(_,h,d,!1,!0):(x===De&&T&384||!b&&I&16)&&_t(w,h,d),y&&Hs(f)}(K&&(j=v&&v.onVnodeUnmounted)||N)&&de(()=>{j&&Re(j,h,f),N&&Qe(f,null,h,"unmounted")},d)},Hs=f=>{const{type:h,el:d,anchor:y,transition:b}=f;if(h===De){Mi(d,y);return}if(h===Nn){C(f);return}const x=()=>{r(d),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:v,delayLeave:k}=b,w=()=>v(d,x);k?k(f.el,x,w):w()}else x()},Mi=(f,h)=>{let d;for(;f!==h;)d=g(f),r(f),f=d;r(h)},Hi=(f,h,d)=>{const{bum:y,scope:b,job:x,subTree:v,um:k,m:w,a:_}=f;Zs(w),Zs(_),y&&nn(y),b.stop(),x&&(x.flags|=8,Se(v,f,h,d)),k&&de(k,h),de(()=>{f.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},_t=(f,h,d,y=!1,b=!1,x=0)=>{for(let v=x;v<f.length;v++)Se(f[v],h,d,y,b)},Yt=f=>{if(f.shapeFlag&6)return Yt(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const h=g(f.anchor||f.el),d=h&&h[Lo];return d?g(d):h};let $n=!1;const Ds=(f,h,d)=>{f==null?h._vnode&&Se(h._vnode,null,null,!0):S(h._vnode||null,f,h,null,null,null,d),h._vnode=f,$n||($n=!0,js(),Wr(),$n=!1)},wt={p:S,um:Se,m:Ye,r:Hs,mt:In,mc:ae,pc:q,pbc:Ze,n:Yt,o:t};return{render:Ds,hydrate:void 0,createApp:tl(Ds)}}function Dn({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Xe({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function fl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ui(t,e,n=!1){const s=t.children,r=e.children;if(M(s)&&M(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=je(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&ui(o,l)),l.type===Sn&&(l.el=o.el)}}function hl(t){const e=t.slice(),n=[0];let s,r,i,o,l;const c=t.length;for(s=0;s<c;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<u?i=l+1:o=l;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function fi(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fi(e)}function Zs(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const pl=Symbol.for("v-scx"),dl=()=>rn(pl);function nt(t,e,n){return hi(t,e,n)}function hi(t,e,n=W){const{immediate:s,deep:r,flush:i,once:o}=n,l=ee({},n),c=e&&s||!e&&i!=="post";let u;if(jt){if(i==="sync"){const m=dl();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Pe,m.resume=Pe,m.pause=Pe,m}}const a=oe;l.call=(m,E,S)=>Oe(m,a,E,S);let p=!1;i==="post"?l.scheduler=m=>{de(m,a&&a.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(m,E)=>{E?m():ys(m)}),l.augmentJob=m=>{e&&(m.flags|=4),p&&(m.flags|=2,a&&(m.id=a.uid,m.i=a))};const g=Ro(t,e,l);return jt&&(u?u.push(g):c&&g()),g}function gl(t,e,n){const s=this.proxy,r=Y(t)?t.includes(".")?pi(s,t):()=>s[t]:t.bind(s,s);let i;L(e)?i=e:(i=e.handler,n=e);const o=Wt(this),l=hi(r,i.bind(s),n);return o(),l}function pi(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const ml=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${qe(e)}Modifiers`]||t[`${lt(e)}Modifiers`];function bl(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||W;let r=n;const i=e.startsWith("update:"),o=i&&ml(s,e.slice(7));o&&(o.trim&&(r=n.map(a=>Y(a)?a.trim():a)),o.number&&(r=n.map(Wn)));let l,c=s[l=An(e)]||s[l=An(qe(e))];!c&&i&&(c=s[l=An(lt(e))]),c&&Oe(c,t,6,r);const u=s[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Oe(u,t,6,r)}}function di(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},l=!1;if(!L(t)){const c=u=>{const a=di(u,e,!0);a&&(l=!0,ee(o,a))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(J(t)&&s.set(t,null),null):(M(i)?i.forEach(c=>o[c]=null):ee(o,i),J(t)&&s.set(t,o),o)}function vn(t,e){return!t||!bn(e)?!1:(e=e.slice(2).replace(/Once$/,""),z(t,e[0].toLowerCase()+e.slice(1))||z(t,lt(e))||z(t,e))}function Js(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:c,render:u,renderCache:a,props:p,data:g,setupState:m,ctx:E,inheritAttrs:S}=t,$=un(t);let O,D;try{if(n.shapeFlag&4){const C=r||s,F=C;O=Ae(u.call(F,C,a,p,m,g,E)),D=l}else{const C=e;O=Ae(C.length>1?C(p,{attrs:l,slots:o,emit:c}):C(p,null)),D=e.props?l:xl(l)}}catch(C){Mt.length=0,wn(C,t,1),O=ke(it)}let H=O;if(D&&S!==!1){const C=Object.keys(D),{shapeFlag:F}=H;C.length&&F&7&&(i&&C.some(os)&&(D=yl(D,i)),H=mt(H,D,!1,!0))}return n.dirs&&(H=mt(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&_s(H,n.transition),O=H,un($),O}const xl=t=>{let e;for(const n in t)(n==="class"||n==="style"||bn(n))&&((e||(e={}))[n]=t[n]);return e},yl=(t,e)=>{const n={};for(const s in t)(!os(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function _l(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:l,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Ys(s,o,u):!!o;if(c&8){const a=e.dynamicProps;for(let p=0;p<a.length;p++){const g=a[p];if(o[g]!==s[g]&&!vn(u,g))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Ys(s,o,u):!0:!!o;return!1}function Ys(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!vn(n,i))return!0}return!1}function wl({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const gi=t=>t.__isSuspense;function kl(t,e){e&&e.pendingBranch?M(t)?e.effects.push(...t):e.effects.push(t):Po(t)}const De=Symbol.for("v-fgt"),Sn=Symbol.for("v-txt"),it=Symbol.for("v-cmt"),Nn=Symbol.for("v-stc"),Mt=[];let me=null;function Be(t=!1){Mt.push(me=t?null:[])}function vl(){Mt.pop(),me=Mt[Mt.length-1]||null}let Ut=1;function Qs(t,e=!1){Ut+=t,t<0&&me&&e&&(me.hasOnce=!0)}function mi(t){return t.dynamicChildren=Ut>0?me||ht:null,vl(),Ut>0&&me&&me.push(t),t}function Ve(t,e,n,s,r,i){return mi(fe(t,e,n,s,r,i,!0))}function Sl(t,e,n,s,r){return mi(ke(t,e,n,s,r,!0))}function bi(t){return t?t.__v_isVNode===!0:!1}function St(t,e){return t.type===e.type&&t.key===e.key}const xi=({key:t})=>t??null,on=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Y(t)||X(t)||L(t)?{i:be,r:t,k:e,f:!!n}:t:null);function fe(t,e=null,n=null,s=0,r=null,i=t===De?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xi(e),ref:e&&on(e),scopeId:Kr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:be};return l?(Ss(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Y(n)?8:16),Ut>0&&!o&&me&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&me.push(c),c}const ke=Tl;function Tl(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Ko)&&(t=it),bi(t)){const l=mt(t,e,!0);return n&&Ss(l,n),Ut>0&&!i&&me&&(l.shapeFlag&6?me[me.indexOf(t)]=l:me.push(l)),l.patchFlag=-2,l}if(Hl(t)&&(t=t.__vccOpts),e){e=El(e);let{class:l,style:c}=e;l&&!Y(l)&&(e.class=pt(l)),J(c)&&(xs(c)&&!M(c)&&(c=ee({},c)),e.style=as(c))}const o=Y(t)?1:gi(t)?128:Mo(t)?64:J(t)?4:L(t)?2:0;return fe(t,e,n,s,r,o,i,!0)}function El(t){return t?xs(t)||si(t)?ee({},t):t:null}function mt(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:c}=t,u=e?Rl(r||{},e):r,a={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&xi(u),ref:e&&e.ref?n&&i?M(i)?i.concat(on(e)):[i,on(e)]:on(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==De?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mt(t.ssContent),ssFallback:t.ssFallback&&mt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&_s(a,c.clone(a)),a}function Cl(t=" ",e=0){return ke(Sn,null,t,e)}function Fn(t="",e=!1){return e?(Be(),Sl(it,null,t)):ke(it,null,t)}function Ae(t){return t==null||typeof t=="boolean"?ke(it):M(t)?ke(De,null,t.slice()):bi(t)?je(t):ke(Sn,null,String(t))}function je(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mt(t)}function Ss(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(M(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Ss(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!si(e)?e._ctx=be:r===3&&be&&(be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else L(e)?(e={default:e,_ctx:be},n=32):(e=String(e),s&64?(n=16,e=[Cl(e)]):n=8);t.children=e,t.shapeFlag|=n}function Rl(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=pt([e.class,s.class]));else if(r==="style")e.style=as([e.style,s.style]);else if(bn(r)){const i=e[r],o=s[r];o&&i!==o&&!(M(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Re(t,e,n,s=null){Oe(t,e,7,[n,s])}const Il=ei();let $l=0;function Al(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Il,i={uid:$l++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ii(s,r),emitsOptions:di(s,r),emit:null,emitted:null,propsDefaults:W,inheritAttrs:s.inheritAttrs,ctx:W,data:W,props:W,attrs:W,slots:W,refs:W,setupState:W,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=bl.bind(null,i),t.ce&&t.ce(i),i}let oe=null,pn,ts;{const t=_n(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};pn=e("__VUE_INSTANCE_SETTERS__",n=>oe=n),ts=e("__VUE_SSR_SETTERS__",n=>jt=n)}const Wt=t=>{const e=oe;return pn(t),t.scope.on(),()=>{t.scope.off(),pn(e)}},Xs=()=>{oe&&oe.scope.off(),pn(null)};function yi(t){return t.vnode.shapeFlag&4}let jt=!1;function Pl(t,e=!1,n=!1){e&&ts(e);const{props:s,children:r}=t.vnode,i=yi(t);sl(t,s,i,e),ll(t,r,n);const o=i?Ol(t,e):void 0;return e&&ts(!1),o}function Ol(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Go);const{setup:s}=n;if(s){Ke();const r=t.setupContext=s.length>1?Ml(t):null,i=Wt(t),o=Vt(s,t,0,[t.props,r]),l=vr(o);if(Ge(),i(),(l||t.sp)&&!Ot(t)&&Gr(t),l){if(o.then(Xs,Xs),e)return o.then(c=>{er(t,c)}).catch(c=>{wn(c,t,0)});t.asyncDep=o}else er(t,o)}else _i(t)}function er(t,e,n){L(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:J(e)&&(t.setupState=Ur(e)),_i(t)}function _i(t,e,n){const s=t.type;t.render||(t.render=s.render||Pe);{const r=Wt(t);Ke();try{Zo(t)}finally{Ge(),r()}}}const Ll={get(t,e){return Q(t,"get",""),t[e]}};function Ml(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Ll),slots:t.slots,emit:t.emit,expose:e}}function Tn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ur(wo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Lt)return Lt[n](t)},has(e,n){return n in e||n in Lt}})):t.proxy}function Hl(t){return L(t)&&"__vccOpts"in t}const Ht=(t,e)=>Eo(t,e,jt),Dl="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ns;const tr=typeof window<"u"&&window.trustedTypes;if(tr)try{ns=tr.createPolicy("vue",{createHTML:t=>t})}catch{}const wi=ns?t=>ns.createHTML(t):t=>t,Nl="http://www.w3.org/2000/svg",Fl="http://www.w3.org/1998/Math/MathML",He=typeof document<"u"?document:null,nr=He&&He.createElement("template"),Bl={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?He.createElementNS(Nl,t):e==="mathml"?He.createElementNS(Fl,t):n?He.createElement(t,{is:n}):He.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>He.createTextNode(t),createComment:t=>He.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>He.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{nr.innerHTML=wi(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=nr.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},zl=Symbol("_vtc");function Ul(t,e,n){const s=t[zl];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const sr=Symbol("_vod"),jl=Symbol("_vsh"),Vl=Symbol(""),Wl=/(^|;)\s*display\s*:/;function ql(t,e,n){const s=t.style,r=Y(n);let i=!1;if(n&&!r){if(e)if(Y(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ln(s,l,"")}else for(const o in e)n[o]==null&&ln(s,o,"");for(const o in n)o==="display"&&(i=!0),ln(s,o,n[o])}else if(r){if(e!==n){const o=s[Vl];o&&(n+=";"+o),s.cssText=n,i=Wl.test(n)}}else e&&t.removeAttribute("style");sr in t&&(t[sr]=i?s.display:"",t[jl]&&(s.display="none"))}const rr=/\s*!important$/;function ln(t,e,n){if(M(n))n.forEach(s=>ln(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Kl(t,e);rr.test(n)?t.setProperty(lt(s),n.replace(rr,""),"important"):t[s]=n}}const ir=["Webkit","Moz","ms"],Bn={};function Kl(t,e){const n=Bn[e];if(n)return n;let s=qe(e);if(s!=="filter"&&s in t)return Bn[e]=s;s=Sr(s);for(let r=0;r<ir.length;r++){const i=ir[r]+s;if(i in t)return Bn[e]=i}return e}const or="http://www.w3.org/1999/xlink";function lr(t,e,n,s,r,i=Qi(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(or,e.slice(6,e.length)):t.setAttributeNS(or,e,n):n==null||i&&!Er(n)?t.removeAttribute(e):t.setAttribute(e,i?"":bt(n)?String(n):n)}function cr(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?wi(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Er(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function ft(t,e,n,s){t.addEventListener(e,n,s)}function Gl(t,e,n,s){t.removeEventListener(e,n,s)}const ar=Symbol("_vei");function Zl(t,e,n,s,r=null){const i=t[ar]||(t[ar]={}),o=i[e];if(s&&o)o.value=s;else{const[l,c]=Jl(e);if(s){const u=i[e]=Xl(s,r);ft(t,l,u,c)}else o&&(Gl(t,l,o,c),i[e]=void 0)}}const ur=/(?:Once|Passive|Capture)$/;function Jl(t){let e;if(ur.test(t)){e={};let s;for(;s=t.match(ur);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):lt(t.slice(2)),e]}let zn=0;const Yl=Promise.resolve(),Ql=()=>zn||(Yl.then(()=>zn=0),zn=Date.now());function Xl(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Oe(ec(s,n.value),e,5,[s])};return n.value=t,n.attached=Ql(),n}function ec(t,e){if(M(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const fr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,tc=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?Ul(t,s,o):e==="style"?ql(t,n,s):bn(e)?os(e)||Zl(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nc(t,e,s,o))?(cr(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&lr(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Y(s))?cr(t,qe(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),lr(t,e,s,o))};function nc(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&fr(e)&&L(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return fr(e)&&Y(n)?!1:e in t}const hr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return M(e)?n=>nn(e,n):e};function sc(t){t.target.composing=!0}function pr(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Un=Symbol("_assign"),jn={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Un]=hr(r);const i=s||r.props&&r.props.type==="number";ft(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=Wn(l)),t[Un](l)}),n&&ft(t,"change",()=>{t.value=t.value.trim()}),e||(ft(t,"compositionstart",sc),ft(t,"compositionend",pr),ft(t,"change",pr))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Un]=hr(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Wn(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===c)||(t.value=c))}},rc=ee({patchProp:tc},Bl);let dr;function ic(){return dr||(dr=al(rc))}const oc=(...t)=>{const e=ic().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=cc(s);if(!r)return;const i=e._component;!L(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,lc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function lc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cc(t){return Y(t)?document.querySelector(t):t}const ac={class:"lyrics-editor"},uc={class:"tabs"},fc={class:"tab-content"},hc=ws({__name:"LyricsEditor",setup(t,{expose:e}){const n=se(localStorage.getItem("lyrics")||""),s=se(localStorage.getItem("favoriteLyrics")||""),r=se(localStorage.getItem("globalInstruction")||""),i=se("current");return nt(n,o=>{localStorage.setItem("lyrics",o)}),nt(s,o=>{localStorage.setItem("favoriteLyrics",o)}),nt(r,o=>{localStorage.setItem("globalInstruction",o)}),e({lyrics:{get:()=>n.value},favoriteLyrics:{get:()=>s.value},globalInstruction:{get:()=>r.value}}),(o,l)=>(Be(),Ve("div",ac,[fe("div",uc,[fe("button",{class:pt(["tab-button",{active:i.value==="current"}]),onClick:l[0]||(l[0]=c=>i.value="current")},"  ",2),fe("button",{class:pt(["tab-button",{active:i.value==="favorite"}]),onClick:l[1]||(l[1]=c=>i.value="favorite")},"  ",2),fe("button",{class:pt(["tab-button",{active:i.value==="instruction"}]),onClick:l[2]||(l[2]=c=>i.value="instruction")},"  ",2)]),fe("div",fc,[i.value==="current"?Mn((Be(),Ve("textarea",{key:0,"onUpdate:modelValue":l[3]||(l[3]=c=>n.value=c),placeholder:"...",class:"editor-textarea card custom-scrollbar",spellcheck:"false"},null,512)),[[jn,n.value]]):Fn("",!0),i.value==="favorite"?Mn((Be(),Ve("textarea",{key:1,"onUpdate:modelValue":l[4]||(l[4]=c=>s.value=c),placeholder:"...",class:"editor-textarea card custom-scrollbar",spellcheck:"false"},null,512)),[[jn,s.value]]):Fn("",!0),i.value==="instruction"?Mn((Be(),Ve("textarea",{key:2,"onUpdate:modelValue":l[5]||(l[5]=c=>r.value=c),placeholder:"AI...",class:"editor-textarea card custom-scrollbar",spellcheck:"false"},null,512)),[[jn,r.value]]):Fn("",!0)])]))}}),ki=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},pc=ki(hc,[["__scopeId","data-v-cf35f55a"]]),xt=(t,e)=>{console.error(`[${t}] Error:`,e),e instanceof Error&&e.stack&&console.debug(`[${t}] Stack trace:`,e.stack)},dc=(t,e)=>{const n=t instanceof Error?t.message:String(t);let s=`JSON: ${n}
`;const r=n.match(/position (\d+)/);if(r&&e){const i=parseInt(r[1],10),o=Math.max(0,i-30),l=Math.min(e.length,i+30),c=e.substring(o,i),u=e.substring(i,l);s+=`
: ${i}`,s+=`
: "${c}${u}"`;const a=/\\u[0-9A-Fa-f]{0,4}/g,g=[...e.substring(Math.max(0,i-15),Math.min(e.length,i+15)).matchAll(a)];g.length>0&&(s+=`

Unicode:`,g.forEach(m=>{const E=m.index!==void 0?i-15+m.index:"";s+=`
- "${m[0]}" (: ${E})`}),s+=`

:`,s+=`
- Unicode (\\u416)`,s+=`
- `,s+=`
- `)}return s},gc=t=>{const e=`## 

`;return t instanceof Error?t.message.includes("API error")?`${e}API

: ${t.message}`:t.message.includes("Invalid response format")?`${e}API`:t.message.includes("API configuration missing")?`${e}API`:`${e}

: ${t.message}`:`${e}`};class mc{constructor(e,n){P(this,"apiBaseUrl");P(this,"apiKey");P(this,"userId");this.config=e,this.apiBaseUrl=e.apiBaseUrl,this.apiKey=e.apiKey,this.userId=n,this.isDebugMode()&&console.log(" [ApiClient] ")}isDebugMode(){return!1}prepareRequestData(e){return{inputs:e,user:this.userId,response_mode:"streaming"}}getApiUrl(e){return`${this.apiBaseUrl}/${e}`}async sendRequest(e,n="POST",s){this.isDebugMode()&&(console.log(` [ApiClient] ${n}:`,e),s&&console.log(" [ApiClient] :",JSON.stringify(s,null,2)));try{const r=await fetch(e,{method:n,headers:this.getHeaders(),body:s?JSON.stringify(s):void 0});if(!r.ok){const i=await r.text();throw console.error(` [ApiClient] API: ${r.status} ${r.statusText}`,i),new Error(`API error: ${r.status} - ${i}`)}return r}catch(r){throw console.error(" [ApiClient] :",r),xt("ApiClient",r),r}}getHeaders(){return{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}}}function gr(){return"user-"+Date.now()}function bc(t="app_user_id"){if(typeof localStorage>"u")return gr();let e=localStorage.getItem(t);return e||(e=gr(),localStorage.setItem(t,e)),e}class xc extends mc{constructor(e=yc(),n=bc("dify_user_id")){super(e,n),this.isDebugMode()&&console.log(" [DifyClient] ")}async sendStreamingRequest(e){var r;this.isDebugMode()&&console.log(" [DifyClient] :",JSON.stringify(e,null,2));const n=this.prepareRequestData(e),s=this.getApiUrl("workflows/run");this.isDebugMode()&&console.log(" [DifyClient] ");try{const i=await this.sendRequest(s,"POST",n),o=(r=i.body)==null?void 0:r.getReader();if(!o)throw new Error("Readable stream is not supported in this environment.");return{response:i,reader:o}}catch(i){throw console.error(" [DifyClient] :",i),xt("DifyClient",i),i}}}function yc(){return{apiBaseUrl:"https://api.dify.ai/v1",apiKey:"app-9kWd85b0E4p6jLd85IAEwUmP"}}function _c(){return new xc}class wc{constructor(e={}){P(this,"debug");P(this,"buffer","");P(this,"decoder");P(this,"chunkCount",0);this.debug=e.debug||!1,this.decoder=new TextDecoder("utf-8"),this.debug&&console.log(" [StreamParser] ")}parseChunk(e){const n=this.decoder.decode(e,{stream:!0});this.buffer+=n,this.debug&&console.log(` [StreamParser]  #${++this.chunkCount}: ${e.length} bytes`);const s=this.buffer.split(`

`);this.buffer=s.pop()||"";const r=[];for(const i of s){const o=i.split(`
`).filter(l=>l.startsWith("data:"));for(const l of o){const c=l.slice(5).trim();if(c)try{const u=JSON.parse(c);r.push(u)}catch(u){const a=dc(u,c);console.error(` [StreamParser] ${a}`),xt("StreamParser",u)}}}return r}clearBuffer(){this.buffer=""}getBuffer(){return this.buffer}}function vi(t={}){return new wc(t)}class kc{constructor(e={}){P(this,"handlers",[]);P(this,"debug");this.debug=e.debug||!1}registerHandler(e){this.handlers.push(e),this.debug&&console.log(` [EventHandlerRegistry] : ${e.constructor.name}`)}handleEvent(e,n,s){for(const r of this.handlers)if(r.canHandle(e)){this.debug&&console.log(` [EventHandlerRegistry] : ${e.event} by ${r.constructor.name}`);const i=r.handle(e,n,s);if(i.handled)return i}return this.debug&&console.log(` [EventHandlerRegistry] : ${e.event}`),{state:s,handled:!1}}resetSession(){for(const e of this.handlers)e.resetSession&&e.resetSession();this.debug&&console.log(" [EventHandlerRegistry] ")}}function Ts(t={}){return new kc(t)}class vc{constructor(e={},n,s){P(this,"streamParser");P(this,"eventHandlerRegistry");P(this,"debug");P(this,"state",{accumulatedText:"",lastContent:""});this.debug=e.debug||!1,this.streamParser=n||vi(e),this.eventHandlerRegistry=s||Ts(e),this.debug&&console.log(" [StreamProcessor] ")}getEventHandlerRegistry(){return this.eventHandlerRegistry}async processStream(e,n){this.resetSession();try{for(;;){const{done:s,value:r}=await e.read();if(s){if(this.state.accumulatedText){const o=JSON.stringify({type:"completion",content:this.state.accumulatedText});n(o,!0)}this.debug&&console.log(" [StreamProcessor] ");break}const i=this.streamParser.parseChunk(r);this.debug&&i.length>0&&console.log(` [StreamProcessor] ${i.length}`);for(const o of i){const l=this.eventHandlerRegistry.handleEvent(o,n,this.state);this.state=l.state}}}catch(s){throw console.error(" [StreamProcessor] :",s),xt("StreamProcessor",s),s}}resetSession(){this.state={accumulatedText:"",lastContent:""},this.eventHandlerRegistry.resetSession(),this.debug&&console.log(" [StreamProcessor] ")}}class En{constructor(e={}){P(this,"debug");this.debug=e.debug||!1}sendChunk(e,n,s,r){return e===r||!e.trim()&&!e.includes(`
`)?!1:(s(e,n),!0)}log(e,n){this.debug&&(n?console.log(` [EventHandler] ${e}`,n):console.log(` [EventHandler] ${e}`))}}class Sc extends En{constructor(n={}){super(n);P(this,"previousChunk","");P(this,"nodeIdToVariable",new Map)}canHandle(n){var s;return n.event==="text_chunk"&&!!((s=n.data)!=null&&s.text)}endsWithHeadingMarker(n){return/#{1,6}$/.test(n.trim())}setVariableNameForNodeId(n,s){this.nodeIdToVariable.set(n,s),this.log(`ID ${n}  ${s} `)}getVariableNameForNodeId(n){return this.nodeIdToVariable.get(n)||"legacy"}handle(n,s,r){const i=n;let o=i.data.text;this.previousChunk&&this.endsWithHeadingMarker(this.previousChunk)&&o.trim()&&!o.startsWith(" ")&&(o=" "+o);const l=!1,c=i.data.from_variable_selector,u=c&&c.length>0?c[0]:null;if(o&&(o.trim()||o.includes(`
`))&&o.trim().toLowerCase()!=="stop"){this.previousChunk=o;let a="legacy";u&&(a=this.getVariableNameForNodeId(u));const p=JSON.stringify({type:a,content:o});if(this.sendChunk(p,l,s,r.lastContent))return{state:{accumulatedText:r.accumulatedText+o,lastContent:p},handled:!0}}return{state:r,handled:!0}}resetSession(){this.previousChunk="",this.log("")}}function Tc(t={}){return new Sc(t)}const st=["advice","words","phrases","lyric","final_phrase"],Ec={Advice:"advice",Words:"words",Phrases:"phrases",Lyric:"lyric",:"final_phrase",advice:"advice",words:"words",phrases:"phrases",lyric:"lyric",final_phrase:"final_phrase"},Cc={advice:"Advice",phrases:"Phrases",words:"Words",lyric:"Lyric",final_phrase:""},Rc=["result","text","answer","content",...st],Me={LEGACY:"legacy",NODE_LLM:"node_llm",NODE_OTHER:"node_other",WORKFLOW_OUTPUTS:"workflow_outputs",COMPLETION:"completion"},ss={INITIAL_TEXT:"AI",GENERATING_TEXT:"## ..."};class Ic extends En{constructor(n={}){super(n);P(this,"nodeIdToVariable",new Map)}canHandle(n){return n.event==="node_started"}handle(n,s,r){const i=n.data,o=i.node_id,l=i.title.toLowerCase();let c="legacy";for(const[u,a]of Object.entries(Ec))if(l.includes(u.toLowerCase())){c=a;break}return this.nodeIdToVariable.set(o,c),this.log(`: ${l} (ID: ${o}, : ${c})`),{state:r,handled:!0}}getVariableNameForNodeId(n){return this.nodeIdToVariable.get(n)||"legacy"}resetSession(){this.nodeIdToVariable.clear(),this.log("")}}function $c(t={}){return new Ic(t)}class Ac extends En{constructor(e={}){super(e)}canHandle(e){return e.event==="node_finished"}handle(e,n,s){const r=e.data,i=r.node_id,o=r.node_type,l=r.outputs||{};this.log(`: ${i} (: ${o})`);const c=o==="llm"?"node_llm":"node_other",u=this.extractResult(l);if(u){const a=JSON.stringify({type:c,content:u});if(this.sendChunk(a,!1,n,s.lastContent))return{state:{accumulatedText:s.accumulatedText,lastContent:a},handled:!0}}return{state:s,handled:!0}}extractResult(e){for(const n of Rc)if(n in e&&e[n])return e[n];return null}}function Pc(t={}){return new Ac(t)}class Oc extends En{constructor(n={}){super(n);P(this,"lastWorkflowId",null)}canHandle(n){return n.event==="workflow_finished"}handle(n,s,r){const i=n.data,o=i.id||n.workflow_run_id||"unknown",l=i.outputs||{};if(this.lastWorkflowId===o)return this.log(`: ${o}`),{state:r,handled:!0};this.lastWorkflowId=o,this.log(`: ${o}`);const c=this.processOutputs(l),u=JSON.stringify({type:"workflow_outputs",content:c});return this.sendChunk(u,!0,s,r.lastContent)?{state:{accumulatedText:r.accumulatedText,lastContent:u},handled:!0}:{state:r,handled:!0}}processOutputs(n){const s={};for(const r of st)r in n&&n[r]&&(s[r]=n[r]);return s}resetSession(){this.lastWorkflowId=null,this.log("")}}function Lc(t={}){return new Oc(t)}function Mc(t={}){const e=$c(t),n=Tc(t),s=Pc(t),r=Lc(t);return{nodeStartedHandler:e,textChunkHandler:n,nodeFinishedHandler:s,workflowFinishedHandler:r}}class Hc extends vc{constructor(e={},n,s){super(e,n,s),this.registerDifyEventHandlers(e)}registerDifyEventHandlers(e){const n=this.getEventHandlerRegistry(),s=Mc(e);n.registerHandler(s.nodeStartedHandler),n.registerHandler(s.textChunkHandler),n.registerHandler(s.nodeFinishedHandler),n.registerHandler(s.workflowFinishedHandler)}}function Dc(t={}){const e=vi(t),n=Ts(t);return new Hc(t,e,n)}const Nc=async(t,e="",n,s="")=>{console.log(" [DifyService] API"),console.log(" [DifyService] :",t.substring(0,100)+(t.length>100?"...":"")),console.log(" [DifyService] :",e.substring(0,100)+(e.length>100?"...":"")),console.log(" [DifyService] :",s.substring(0,100)+(s.length>100?"...":""));try{const r=_c(),i=Dc({debug:!0}),o={currentLyric:t||"",favorite_lyrics:e};s&&(o.global_instruction=s);const{reader:l}=await r.sendStreamingRequest(o);await i.processStream(l,n),console.log(" [DifyService] ")}catch(r){throw console.error(" [DifyService] :",r),xt("DifyService",r),r}};function Es(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ct=Es();function Si(t){ct=t}const Dt={exec:()=>null};function U(t,e=""){let n=typeof t=="string"?t:t.source;const s={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(le.caret,"$1"),n=n.replace(r,o),s},getRegex:()=>new RegExp(n,e)};return s}const le={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Fc=/^(?:[ \t]*(?:\n|$))+/,Bc=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,zc=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Uc=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Cs=/(?:[*+-]|\d{1,9}[.)])/,Ti=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ei=U(Ti).replace(/bull/g,Cs).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jc=U(Ti).replace(/bull/g,Cs).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Rs=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Vc=/^[^\n]+/,Is=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Wc=U(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Is).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),qc=U(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Cs).getRegex(),Cn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$s=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Kc=U("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",$s).replace("tag",Cn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ci=U(Rs).replace("hr",qt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn).getRegex(),Gc=U(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ci).getRegex(),As={blockquote:Gc,code:Bc,def:Wc,fences:zc,heading:Uc,hr:qt,html:Kc,lheading:Ei,list:qc,newline:Fc,paragraph:Ci,table:Dt,text:Vc},mr=U("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn).getRegex(),Zc={...As,lheading:jc,table:mr,paragraph:U(Rs).replace("hr",qt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",mr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn).getRegex()},Jc={...As,html:U(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$s).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Dt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:U(Rs).replace("hr",qt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ei).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Yc=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Qc=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ri=/^( {2,}|\\)\n(?!\s*$)/,Xc=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Rn=/[\p{P}\p{S}]/u,Ps=/[\s\p{P}\p{S}]/u,Ii=/[^\s\p{P}\p{S}]/u,ea=U(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ps).getRegex(),$i=/(?!~)[\p{P}\p{S}]/u,ta=/(?!~)[\s\p{P}\p{S}]/u,na=/(?:[^\s\p{P}\p{S}]|~)/u,sa=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Ai=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ra=U(Ai,"u").replace(/punct/g,Rn).getRegex(),ia=U(Ai,"u").replace(/punct/g,$i).getRegex(),Pi="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",oa=U(Pi,"gu").replace(/notPunctSpace/g,Ii).replace(/punctSpace/g,Ps).replace(/punct/g,Rn).getRegex(),la=U(Pi,"gu").replace(/notPunctSpace/g,na).replace(/punctSpace/g,ta).replace(/punct/g,$i).getRegex(),ca=U("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ii).replace(/punctSpace/g,Ps).replace(/punct/g,Rn).getRegex(),aa=U(/\\(punct)/,"gu").replace(/punct/g,Rn).getRegex(),ua=U(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),fa=U($s).replace("(?:-->|$)","-->").getRegex(),ha=U("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",fa).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,pa=U(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",dn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Oi=U(/^!?\[(label)\]\[(ref)\]/).replace("label",dn).replace("ref",Is).getRegex(),Li=U(/^!?\[(ref)\](?:\[\])?/).replace("ref",Is).getRegex(),da=U("reflink|nolink(?!\\()","g").replace("reflink",Oi).replace("nolink",Li).getRegex(),Os={_backpedal:Dt,anyPunctuation:aa,autolink:ua,blockSkip:sa,br:Ri,code:Qc,del:Dt,emStrongLDelim:ra,emStrongRDelimAst:oa,emStrongRDelimUnd:ca,escape:Yc,link:pa,nolink:Li,punctuation:ea,reflink:Oi,reflinkSearch:da,tag:ha,text:Xc,url:Dt},ga={...Os,link:U(/^!?\[(label)\]\((.*?)\)/).replace("label",dn).getRegex(),reflink:U(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dn).getRegex()},rs={...Os,emStrongRDelimAst:la,emStrongLDelim:ia,url:U(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ma={...rs,br:U(Ri).replace("{2,}","*").getRegex(),text:U(rs.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},tn={normal:As,gfm:Zc,pedantic:Jc},Tt={normal:Os,gfm:rs,breaks:ma,pedantic:ga},ba={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},br=t=>ba[t];function Ie(t,e){if(e){if(le.escapeTest.test(t))return t.replace(le.escapeReplace,br)}else if(le.escapeTestNoEncode.test(t))return t.replace(le.escapeReplaceNoEncode,br);return t}function xr(t){try{t=encodeURI(t).replace(le.percentDecode,"%")}catch{return null}return t}function yr(t,e){var i;const n=t.replace(le.findPipe,(o,l,c)=>{let u=!1,a=l;for(;--a>=0&&c[a]==="\\";)u=!u;return u?"|":" |"}),s=n.split(le.splitPipe);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!((i=s.at(-1))!=null&&i.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(le.slashPipe,"|");return s}function Et(t,e,n){const s=t.length;if(s===0)return"";let r=0;for(;r<s&&t.charAt(s-r-1)===e;)r++;return t.slice(0,s-r)}function xa(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return-1}function _r(t,e,n,s,r){const i=e.href,o=e.title||null,l=t[1].replace(r.other.outputLinkReplace,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const c={type:"link",raw:n,href:i,title:o,text:l,tokens:s.inlineTokens(l)};return s.state.inLink=!1,c}return{type:"image",raw:n,href:i,title:o,text:l}}function ya(t,e,n){const s=t.match(n.other.indentCodeCompensation);if(s===null)return e;const r=s[1];return e.split(`
`).map(i=>{const o=i.match(n.other.beginningSpace);if(o===null)return i;const[l]=o;return l.length>=r.length?i.slice(r.length):i}).join(`
`)}class gn{constructor(e){P(this,"options");P(this,"rules");P(this,"lexer");this.options=e||ct}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Et(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],r=ya(s,n[3]||"",this.rules);return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(this.rules.other.endingHash.test(s)){const r=Et(s,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(s=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Et(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let s=Et(n[0],`
`).split(`
`),r="",i="";const o=[];for(;s.length>0;){let l=!1;const c=[];let u;for(u=0;u<s.length;u++)if(this.rules.other.blockquoteStart.test(s[u]))c.push(s[u]),l=!0;else if(!l)c.push(s[u]);else break;s=s.slice(u);const a=c.join(`
`),p=a.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${a}`:a,i=i?`${i}
${p}`:p;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=g,s.length===0)break;const m=o.at(-1);if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const E=m,S=E.raw+`
`+s.join(`
`),$=this.blockquote(S);o[o.length-1]=$,r=r.substring(0,r.length-E.raw.length)+$.raw,i=i.substring(0,i.length-E.text.length)+$.text;break}else if((m==null?void 0:m.type)==="list"){const E=m,S=E.raw+`
`+s.join(`
`),$=this.list(S);o[o.length-1]=$,r=r.substring(0,r.length-m.raw.length)+$.raw,i=i.substring(0,i.length-E.raw.length)+$.raw,s=S.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim();const r=s.length>1,i={type:"list",raw:"",ordered:r,start:r?+s.slice(0,-1):"",loose:!1,items:[]};s=r?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=r?s:"[*+-]");const o=this.rules.other.listItemRegex(s);let l=!1;for(;e;){let u=!1,a="",p="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let g=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,D=>" ".repeat(3*D.length)),m=e.split(`
`,1)[0],E=!g.trim(),S=0;if(this.options.pedantic?(S=2,p=g.trimStart()):E?S=n[1].length+1:(S=n[2].search(this.rules.other.nonSpaceChar),S=S>4?1:S,p=g.slice(S),S+=n[1].length),E&&this.rules.other.blankLine.test(m)&&(a+=m+`
`,e=e.substring(m.length+1),u=!0),!u){const D=this.rules.other.nextBulletRegex(S),H=this.rules.other.hrRegex(S),C=this.rules.other.fencesBeginRegex(S),F=this.rules.other.headingBeginRegex(S),ve=this.rules.other.htmlBeginRegex(S);for(;e;){const ce=e.split(`
`,1)[0];let ae;if(m=ce,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),ae=m):ae=m.replace(this.rules.other.tabCharGlobal,"    "),C.test(m)||F.test(m)||ve.test(m)||D.test(m)||H.test(m))break;if(ae.search(this.rules.other.nonSpaceChar)>=S||!m.trim())p+=`
`+ae.slice(S);else{if(E||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||C.test(g)||F.test(g)||H.test(g))break;p+=`
`+m}!E&&!m.trim()&&(E=!0),a+=ce+`
`,e=e.substring(ce.length+1),g=ae.slice(S)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(a)&&(l=!0));let $=null,O;this.options.gfm&&($=this.rules.other.listIsTask.exec(p),$&&(O=$[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:a,task:!!$,checked:O,loose:!1,text:p,tokens:[]}),i.raw+=a}const c=i.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){const a=i.items[u].tokens.filter(g=>g.type==="space"),p=a.length>0&&a.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=p}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:r,title:i}}}table(e){var l;const n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const s=yr(n[1]),r=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(l=n[3])!=null&&l.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===r.length){for(const c of r)this.rules.other.tableAlignRight.test(c)?o.align.push("right"):this.rules.other.tableAlignCenter.test(c)?o.align.push("center"):this.rules.other.tableAlignLeft.test(c)?o.align.push("left"):o.align.push(null);for(let c=0;c<s.length;c++)o.header.push({text:s[c],tokens:this.lexer.inline(s[c]),header:!0,align:o.align[c]});for(const c of i)o.rows.push(yr(c,o.header.length).map((u,a)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[a]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const o=Et(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{const o=xa(n[2],"()");if(o>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let r=n[2],i="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?r=r.slice(1):r=r.slice(1,-1)),_r(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const r=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=n[r.toLowerCase()];if(!i){const o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return _r(s,i,s[0],this.lexer,this.rules)}}emStrong(e,n,s=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&s.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const o=[...r[0]].length-1;let l,c,u=o,a=0;const p=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,n=n.slice(-1*e.length+o);(r=p.exec(n))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(c=[...l].length,r[3]||r[4]){u+=c;continue}else if((r[5]||r[6])&&o%3&&!((o+c)%3)){a+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+a);const g=[...r[0]][0].length,m=e.slice(0,o+r.index+g+c);if(Math.min(o,c)%2){const S=m.slice(1,-1);return{type:"em",raw:m,text:S,tokens:this.lexer.inlineTokens(S)}}const E=m.slice(2,-2);return{type:"strong",raw:m,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(s),i=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return r&&i&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let s,r;return n[2]==="@"?(s=n[1],r="mailto:"+s):(s=n[1],r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let o;do o=n[0],n[0]=((s=this.rules.inline._backpedal.exec(n[0]))==null?void 0:s[0])??"";while(o!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){const s=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:s}}}}class xe{constructor(e){P(this,"tokens");P(this,"options");P(this,"state");P(this,"tokenizer");P(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ct,this.options.tokenizer=this.options.tokenizer||new gn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:le,block:tn.normal,inline:Tt.normal};this.options.pedantic?(n.block=tn.pedantic,n.inline=Tt.pedantic):this.options.gfm&&(n.block=tn.gfm,this.options.breaks?n.inline=Tt.breaks:n.inline=Tt.gfm),this.tokenizer.rules=n}static get rules(){return{block:tn,inline:Tt}}static lex(e,n){return new xe(n).lex(e)}static lexInline(e,n){return new xe(n).inlineTokens(e)}lex(e){e=e.replace(le.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){var r,i,o;for(this.options.pedantic&&(e=e.replace(le.tabCharGlobal,"    ").replace(le.spaceLine,""));e;){let l;if((i=(r=this.options.extensions)==null?void 0:r.block)!=null&&i.some(u=>(l=u.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);const u=n.at(-1);l.raw.length===1&&u!==void 0?u.raw+=`
`:n.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.at(-1).src=u.text):n.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),n.push(l);continue}let c=e;if((o=this.options.extensions)!=null&&o.startBlock){let u=1/0;const a=e.slice(1);let p;this.options.extensions.startBlock.forEach(g=>{p=g.call({lexer:this},a),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(c=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){const u=n.at(-1);s&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(l),s=c.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var l,c,u;let s=e,r=null;if(this.tokens.links){const a=Object.keys(this.tokens.links);if(a.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)a.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,r.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let a;if((c=(l=this.options.extensions)==null?void 0:l.inline)!=null&&c.some(g=>(a=g.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);const g=n.at(-1);a.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=a.raw,g.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(e,s,o)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),n.push(a);continue}let p=e;if((u=this.options.extensions)!=null&&u.startInline){let g=1/0;const m=e.slice(1);let E;this.options.extensions.startInline.forEach(S=>{E=S.call({lexer:this},m),typeof E=="number"&&E>=0&&(g=Math.min(g,E))}),g<1/0&&g>=0&&(p=e.substring(0,g+1))}if(a=this.tokenizer.inlineText(p)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),i=!0;const g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=a.raw,g.text+=a.text):n.push(a);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}}class mn{constructor(e){P(this,"options");P(this,"parser");this.options=e||ct}space(e){return""}code({text:e,lang:n,escaped:s}){var o;const r=(o=(n||"").match(le.notSpaceStart))==null?void 0:o[0],i=e.replace(le.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Ie(r)+'">'+(s?i:Ie(i,!0))+`</code></pre>
`:"<pre><code>"+(s?i:Ie(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,s=e.start;let r="";for(let l=0;l<e.items.length;l++){const c=e.items[l];r+=this.listitem(c)}const i=n?"ol":"ul",o=n&&s!==1?' start="'+s+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){var s;let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Ie(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",s="";for(let i=0;i<e.header.length;i++)s+=this.tablecell(e.header[i]);n+=this.tablerow({text:s});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];s="";for(let l=0;l<o.length;l++)s+=this.tablecell(o[l]);r+=this.tablerow({text:s})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+n+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ie(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:s}){const r=this.parser.parseInline(s),i=xr(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return n&&(o+=' title="'+Ie(n)+'"'),o+=">"+r+"</a>",o}image({href:e,title:n,text:s}){const r=xr(e);if(r===null)return Ie(s);e=r;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${Ie(n)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ie(e.text)}}class Ls{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ye{constructor(e){P(this,"options");P(this,"renderer");P(this,"textRenderer");this.options=e||ct,this.options.renderer=this.options.renderer||new mn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ls}static parse(e,n){return new ye(n).parse(e)}static parseInline(e,n){return new ye(n).parseInline(e)}parse(e,n=!0){var r,i;let s="";for(let o=0;o<e.length;o++){const l=e[o];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[l.type]){const u=l,a=this.options.extensions.renderers[u.type].call({parser:this},u);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){s+=a||"";continue}}const c=l;switch(c.type){case"space":{s+=this.renderer.space(c);continue}case"hr":{s+=this.renderer.hr(c);continue}case"heading":{s+=this.renderer.heading(c);continue}case"code":{s+=this.renderer.code(c);continue}case"table":{s+=this.renderer.table(c);continue}case"blockquote":{s+=this.renderer.blockquote(c);continue}case"list":{s+=this.renderer.list(c);continue}case"html":{s+=this.renderer.html(c);continue}case"paragraph":{s+=this.renderer.paragraph(c);continue}case"text":{let u=c,a=this.renderer.text(u);for(;o+1<e.length&&e[o+1].type==="text";)u=e[++o],a+=`
`+this.renderer.text(u);n?s+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):s+=a;continue}default:{const u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return s}parseInline(e,n=this.renderer){var r,i;let s="";for(let o=0;o<e.length;o++){const l=e[o];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[l.type]){const u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){s+=u||"";continue}}const c=l;switch(c.type){case"escape":{s+=n.text(c);break}case"html":{s+=n.html(c);break}case"link":{s+=n.link(c);break}case"image":{s+=n.image(c);break}case"strong":{s+=n.strong(c);break}case"em":{s+=n.em(c);break}case"codespan":{s+=n.codespan(c);break}case"br":{s+=n.br(c);break}case"del":{s+=n.del(c);break}case"text":{s+=n.text(c);break}default:{const u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return s}}class Nt{constructor(e){P(this,"options");P(this,"block");this.options=e||ct}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?xe.lex:xe.lexInline}provideParser(){return this.block?ye.parse:ye.parseInline}}P(Nt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class _a{constructor(...e){P(this,"defaults",Es());P(this,"options",this.setOptions);P(this,"parse",this.parseMarkdown(!0));P(this,"parseInline",this.parseMarkdown(!1));P(this,"Parser",ye);P(this,"Renderer",mn);P(this,"TextRenderer",Ls);P(this,"Lexer",xe);P(this,"Tokenizer",gn);P(this,"Hooks",Nt);this.use(...e)}walkTokens(e,n){var r,i;let s=[];for(const o of e)switch(s=s.concat(n.call(this,o)),o.type){case"table":{const l=o;for(const c of l.header)s=s.concat(this.walkTokens(c.tokens,n));for(const c of l.rows)for(const u of c)s=s.concat(this.walkTokens(u.tokens,n));break}case"list":{const l=o;s=s.concat(this.walkTokens(l.items,n));break}default:{const l=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const u=l[c].flat(1/0);s=s.concat(this.walkTokens(u,n))}):l.tokens&&(s=s.concat(this.walkTokens(l.tokens,n)))}}return s}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const r={...s};if(r.async=this.defaults.async||r.async||!1,s.extensions&&(s.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...l){let c=i.renderer.apply(this,l);return c===!1&&(c=o.apply(this,l)),c}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[i.level];o?o.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),r.extensions=n),s.renderer){const i=this.defaults.renderer||new mn(this.defaults);for(const o in s.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o,c=s.renderer[l],u=i[l];i[l]=(...a)=>{let p=c.apply(i,a);return p===!1&&(p=u.apply(i,a)),p||""}}r.renderer=i}if(s.tokenizer){const i=this.defaults.tokenizer||new gn(this.defaults);for(const o in s.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,c=s.tokenizer[l],u=i[l];i[l]=(...a)=>{let p=c.apply(i,a);return p===!1&&(p=u.apply(i,a)),p}}r.tokenizer=i}if(s.hooks){const i=this.defaults.hooks||new Nt;for(const o in s.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=o,c=s.hooks[l],u=i[l];Nt.passThroughHooks.has(o)?i[l]=a=>{if(this.defaults.async)return Promise.resolve(c.call(i,a)).then(g=>u.call(i,g));const p=c.call(i,a);return u.call(i,p)}:i[l]=(...a)=>{let p=c.apply(i,a);return p===!1&&(p=u.apply(i,a)),p}}r.hooks=i}if(s.walkTokens){const i=this.defaults.walkTokens,o=s.walkTokens;r.walkTokens=function(l){let c=[];return c.push(o.call(this,l)),i&&(c=c.concat(i.call(this,l))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return xe.lex(e,n??this.defaults)}parser(e,n){return ye.parse(e,n??this.defaults)}parseMarkdown(e){return(s,r)=>{const i={...r},o={...this.defaults,...i},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const c=o.hooks?o.hooks.provideLexer():e?xe.lex:xe.lexInline,u=o.hooks?o.hooks.provideParser():e?ye.parse:ye.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then(a=>c(a,o)).then(a=>o.hooks?o.hooks.processAllTokens(a):a).then(a=>o.walkTokens?Promise.all(this.walkTokens(a,o.walkTokens)).then(()=>a):a).then(a=>u(a,o)).then(a=>o.hooks?o.hooks.postprocess(a):a).catch(l);try{o.hooks&&(s=o.hooks.preprocess(s));let a=c(s,o);o.hooks&&(a=o.hooks.processAllTokens(a)),o.walkTokens&&this.walkTokens(a,o.walkTokens);let p=u(a,o);return o.hooks&&(p=o.hooks.postprocess(p)),p}catch(a){return l(a)}}}onError(e,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Ie(s.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(s);throw s}}}const ot=new _a;function V(t,e){return ot.parse(t,e)}V.options=V.setOptions=function(t){return ot.setOptions(t),V.defaults=ot.defaults,Si(V.defaults),V};V.getDefaults=Es;V.defaults=ct;V.use=function(...t){return ot.use(...t),V.defaults=ot.defaults,Si(V.defaults),V};V.walkTokens=function(t,e){return ot.walkTokens(t,e)};V.parseInline=ot.parseInline;V.Parser=ye;V.parser=ye.parse;V.Renderer=mn;V.TextRenderer=Ls;V.Lexer=xe;V.lexer=xe.lex;V.Tokenizer=gn;V.Hooks=Nt;V.parse=V;V.options;V.setOptions;V.use;V.walkTokens;V.parseInline;ye.parse;xe.lex;const wr=t=>{const e=[];return st.forEach(n=>{t[n]&&e.push(`## ${Cc[n]}

${t[n]}`)}),t.legacy&&e.push(t.legacy),e.join(`

`)},wa=(t,e,n)=>{const s=t.map(wr),r=wr(e);return r?s.push(r):n&&s.push(ss.GENERATING_TEXT),s.join(`

---

`)},Vn=t=>V.parse(t),kr=()=>{const t={legacy:""};return st.forEach(e=>{t[e]=""}),t};function ka(){const t=se([]),e=se(kr()),n=se(!0),s=se(!1),r=se(Vn(ss.INITIAL_TEXT)),i=se(!1),o=se(!1),l=se(""),c=Ts(),u=Ht(()=>n.value?ss.INITIAL_TEXT:wa(t.value,e.value,s.value)),a=()=>{r.value=Vn(u.value)},p=S=>{try{const $=JSON.parse(S);return $&&typeof $=="object"&&"type"in $&&"content"in $?{type:$.type,content:$.content}:{type:Me.LEGACY,content:S}}catch{return{type:Me.LEGACY,content:S}}},g=(S,$,O)=>{if(S===l.value)return;const D=p(S);if($&&O.has(D.type))return;const H=D.type;if(st.includes(H))e.value[H]+=D.content;else if(H===Me.LEGACY)e.value.legacy+=D.content;else if(!(H===Me.NODE_LLM||H===Me.NODE_OTHER))if(H===Me.WORKFLOW_OUTPUTS){if($){const C=D.content;st.forEach(F=>{C[F]&&(e.value[F]=C[F])}),O.add(Me.WORKFLOW_OUTPUTS),st.forEach(F=>{O.add(F)})}}else H===Me.COMPLETION&&$&&(typeof D.content=="string"&&D.content.trim()&&(e.value.legacy+=D.content),O.add(Me.COMPLETION));l.value=S,$&&O.add(D.type),a()};return{sessions:t,currentSession:e,isInitialState:n,isGenerating:s,renderedHtml:r,isLoading:i,hasError:o,inspirationText:u,updateInspiration:async(S="",$="",O,D="")=>{try{i.value=!0,o.value=!1,s.value=!0,n.value?n.value=!1:Object.values(e.value).some(C=>C)&&t.value.push({...e.value}),e.value=kr(),l.value="",c.resetSession&&c.resetSession(),a(),O&&O();const H=new Set;await Nc(S,$,(C,F)=>{g(C,!!F,H),O&&O(),F&&H.size>0&&(s.value=!1)},D),s.value&&(s.value=!1)}catch(H){xt("InspirationSession",H),o.value=!0,s.value=!1,r.value=Vn(gc(H))}finally{i.value=!1}},updateHtml:a,getState:()=>({sessions:t.value,currentSession:e.value,isInitialState:n.value,isGenerating:s.value,isLoading:i.value,hasError:o.value})}}const va={class:"inspiration-panel"},Sa=["innerHTML"],Ta={class:"button-container"},Ea=["disabled"],Ca={key:0,class:"button-content"},Ra={key:1},Ia=ws({__name:"InspirationPanel",props:{lyrics:{},favoriteLyrics:{},globalInstruction:{}},emits:["update"],setup(t,{emit:e}){const n=t,s=e,{renderedHtml:r,isLoading:i,updateInspiration:o,updateHtml:l}=ka(),c=se(null),u=se(!0);let a=null;const p=()=>{u.value=!1,a!==null&&clearTimeout(a),a=window.setTimeout(()=>{u.value=!0},3e3)},g=()=>{c.value&&u.value&&c.value.scrollTo({top:c.value.scrollHeight,behavior:"smooth"})};nt(r,()=>{setTimeout(g,0)});const m=()=>{s("update")};Yr(()=>{l(),c.value&&c.value.addEventListener("scroll",p)}),ks(()=>{c.value&&c.value.removeEventListener("scroll",p),a!==null&&clearTimeout(a)});const E=async()=>{u.value=!0,await o(n.lyrics||"",n.favoriteLyrics||"",m,n.globalInstruction||"")};return(S,$)=>(Be(),Ve("div",va,[fe("div",{ref_key:"markdownContentRef",ref:c,class:"markdown-content card custom-scrollbar",innerHTML:sn(r)},null,8,Sa),fe("div",Ta,[fe("button",{class:"primary-button",onClick:E,disabled:sn(i)},[sn(i)?(Be(),Ve("span",Ca,$[0]||($[0]=[fe("span",null,"...",-1),fe("span",{class:"spinner-inline"},null,-1)]))):(Be(),Ve("span",Ra,""))],8,Ea)])]))}}),$a=ki(Ia,[["__scopeId","data-v-0461af28"]]),Aa={class:"app-container"},Pa={class:"lyrics-container"},Oa={class:"inspiration-container"},La=ws({__name:"App",setup(t){const e=se(null),n=Ht(()=>{var o;return((o=e.value)==null?void 0:o.lyrics.get())||""}),s=Ht(()=>{var o;return((o=e.value)==null?void 0:o.favoriteLyrics.get())||""}),r=Ht(()=>{var o;return((o=e.value)==null?void 0:o.globalInstruction.get())||""}),i=()=>{};return(o,l)=>(Be(),Ve("div",Aa,[fe("div",Pa,[ke(pc,{ref_key:"lyricsEditorRef",ref:e},null,512)]),fe("div",Oa,[ke($a,{lyrics:n.value,"favorite-lyrics":s.value,"global-instruction":r.value,onUpdate:i},null,8,["lyrics","favorite-lyrics","global-instruction"])])]))}});oc(La).mount("#app");
